{"version":3,"sources":["webpack:///webpack/bootstrap 04e2cb027c52c5bb9601","webpack:///./lib/sprites.js","webpack:///./lib/sound.js","webpack:///./lib/board.js","webpack:///./lib/title.js","webpack:///./lib/duck.js","webpack:///./lib/ui.js","webpack:///./lib/entry.js"],"names":["black_duck","data","images","frames","animations","fly_up","fly_side","hit","fall","up","framerate","spriteSheet","createjs","SpriteSheet","Sprite","titleScreen","aboutMe","duck_ui","red","white","black","alt","flash","hit_ui","flew_away_ui","bullet_ui","bullet","empty","dog_intro","walk","sniff","happy","jumping","landing","laughing","one","two","registerSounds","Sound","registerSound","sound","play","Sprites","Board","stage","title","background_color","Shape","graphics","beginFill","drawRect","addEventListener","handleMissClick","bind","addChild","background","ui","initLeap","cursor","mkCursor","trigger","activeBirds","document","onkeydown","keyPressed","dog","scaleX","scaleY","x","y","bulletsLeft","numBirds","birdsLaunched","flewAway","killCount","threshhold","finishedPost","round","score","duckCount","Object","keys","length","e","key","alpha","fire","obj","ani","gotoAndPlay","snd","props","removeChild","ppc","PlayPropsConfig","set","loop","duration","Tween","get","to","call","changeAnimation","wait","playSound","shiftToBehindBackground","gameLoop","leap","Leap","Controller","host","port","frameEventName","useAllPlugins","on","frame","frameCallback","connect","pointables","pointer","pos","stabilizedTipPosition","norm","interactionBox","normalizePoint","console","log","objs","getObjectsUnderPoint","dh_type","undefined","i","handleDuckShot","duck","id","dh_id","handleClick","clear","sprite","firedShot","box","mouseEnabled","n","blueBackground","drawDucks","resetCycle","launchDucks","soundHandle","birdsOnScreen","shiftDucks","playEndingMusic","resetRound","intro","redBackground","showFlewAway","forEach","bird_key","flyaway","startCycle","regHit","delay","regMiss","laughingDog","alive","happyDog","setChildIndex","numChildren","getChildIndex","birdDied","birdLived","removeBird","moveDuck","Title","start","aboutMeCont","aboutMeContainer","titleImage","startButton","aboutButton","gunButton","hitArea","lightGun","window","location","beep","startGame","cont","Container","back_button","backButton","github_button","gh_hit","github_link","website_button","w_hit","website_link","Duck","clicked","flapping_sound","lastSound","stop","stopPropagation","removeTweens","removeEventListener","stopSound","min","max","Math","floor","random","rand","range","MAX_WIDTH","MAX_HEIGHT","xrow","yrow","abs_coords","params","last_x","last_y","done","dist","sqrt","pow","angleDeg","atan2","abs","PI","animation","unshift","speed","getDiffCoeff","reverse","reverseY","dirs","genRandomPath","startTime","volume","dir","UI","shot_text","hits","misses","shotsLeft","duckStatus","duck_x_pos","push","duckIndex","bulletStatus","bullet_x_pos","hit_text","flew_away_text","roundCount","Text","toString","textBaseline","text","setBullets","x_pos","status","foundWhite","currentAnimation","callback","loopingFunct","shiftDucksOnce","flashDucks","j","duckTwo","idx","resetDuckStatus","redraw","second","targetDuck","canvas","getElementById","Stage","board","titleMusic","handleTick","event","update","Ticker","preload","LoadQueue","loadComplete","installPlugin","loadManifest","src","removeAllChildren","showTitle","hideTitle"],"mappings":"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kB,CAAlB;AACA,YAAMkC,UAAUJ,MAAMG,UAAN,CAAiB,CAAjB,CAAhB;AACA,YAAME,MAAMD,QAAQE,qBAApB;AACA,YAAMC,OAAOP,MAAMQ,cAAN,CAAqBC,cAArB,CAAoCJ,GAApC,CAAb;AACA,aAAK9D,MAAL,CAAYU,CAAZ,GAAiB,GAAD,GAAQsD,KAAK,CAAL,CAAxB;AACA,aAAKhE,MAAL,CAAYW,CAAZ,GAAiB,GAAD,IAAS,IAAEqD,KAAK,CAAL,CAAX,CAAhB;AACD,OAPD,MAQI;AACF,aAAKhE,MAAL,CAAY2B,KAAZ,GAAkB,CAAlB;AACD;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAOE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAMF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEE;AACA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD;;;yBAEIjB,C,EAAEC,C,EAAE;AACPwD,cAAQC,GAAR,CAAY,MAAZ;AACA,UAAMC,OAAO,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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 04e2cb027c52c5bb9601","export const black_duck = () => {\n  let data = {\n    images: [\"sprites/duckhunt.png\"],\n    frames: [\n      [266, 115, 27, 31],\n      [297, 117, 32, 29],\n      [331, 117, 25, 31],\n      [367, 121, 34, 29],\n      [405, 131, 34, 20],\n      [442, 129, 34, 24],\n      [484, 124, 31, 29],\n      [525, 123, 18, 31],\n      [549, 123, 18, 31],\n      [147, 496, 24, 31],\n      [183, 496, 32, 31],\n      [224, 496, 30, 30]\n    ],\n    animations:{\n      fly_up:[0,2],\n      fly_side:[3,5],\n      hit: [6,6,\"fall\", 0.5],\n      fall:[7,8],\n      up: [9,11]\n    },\n    framerate:7\n  }\n\n  const spriteSheet = new createjs.SpriteSheet(data);\n  return new createjs.Sprite(spriteSheet,\"fly_up\")\n}\n\nexport const titleScreen = () =>{\n  let data = {\n    images: [\"sprites/dhunttitle.png\"],\n    frames: [\n      [0,0,256,244]\n    ]\n  }\n\n  const spriteSheet = new createjs.SpriteSheet(data);\n  return new createjs.Sprite(spriteSheet)\n}\nexport const aboutMe = () =>{\n  let data = {\n    images: [\"sprites/aboutme.png\"],\n    frames: [\n      [0,0,786,720]\n    ]\n  }\n\n  const spriteSheet = new createjs.SpriteSheet(data);\n  return new createjs.Sprite(spriteSheet)\n}\n\nexport const duck_ui = () =>{\n  let data = {\n    images: [\"sprites/duckhunt.png\"],\n    frames: [\n      [117, 265, 7, 8],\n      [117, 246, 7, 8],\n      [109, 265, 7, 8],\n      [117, 265, 7, 8]\n    ],\n    animations:{\n      red:0,\n      white:1,\n      black: 2,\n      alt:[1,2],\n      flash:[2,3]\n    },\n    framerate:2\n  }\n\n  const spriteSheet = new createjs.SpriteSheet(data);\n  return new createjs.Sprite(spriteSheet,\"white\")\n}\n\nexport const hit_ui = () =>{\n  let data = {\n    images: [\"sprites/duckhunt.png\"],\n    frames: [\n      [85, 245, 23, 7]\n    ]\n  }\n\n  const spriteSheet = new createjs.SpriteSheet(data);\n  return new createjs.Sprite(spriteSheet)\n}\n\nexport const flew_away_ui = () =>{\n  let data = {\n    images: [\"sprites/duckhunt.png\"],\n    frames: [\n      [312, 242, 73, 17]\n    ]\n  }\n\n  const spriteSheet = new createjs.SpriteSheet(data);\n  return new createjs.Sprite(spriteSheet)\n}\n\nexport const bullet_ui = () =>{\n  let data = {\n    images: [\"sprites/duckhunt.png\"],\n    frames: [\n      [57, 253, 23, 8], //black clip\n      [57, 272, 23, 8], //red clip\n      [70,210, 26, 17] //empty\n    ],\n    animations:{\n      black:0,\n      red:1,\n      flash:[1,2]\n    },\n    framerate:2\n  }\n\n  const spriteSheet = new createjs.SpriteSheet(data);\n  return new createjs.Sprite(spriteSheet, \"black\")\n}\n\nexport const bullet = () =>{\n  let data = {\n    images: [\"sprites/duckhunt.png\"],\n    frames: [\n      [75, 245, 4, 7], //black bullet\n      [75, 264, 4, 7], //red bullet??\n      [70, 210, 4, 7]\n    ],\n    animations:{\n      black:0,\n      red:1,\n      empty: 2\n    },\n    framerate:2\n  }\n\n  const spriteSheet = new createjs.SpriteSheet(data);\n  return new createjs.Sprite(spriteSheet,\"black\")\n}\n\nexport const dog_intro = () =>{\n  let data = {\n    images: [\"sprites/duckhunt.png\"],\n    // frames: {width:60, height:43, count:5, regX: 17, regY:300},\n    frames:[\n      [17, 300, 53, 43],\n      [78, 300, 53, 43],\n      [138, 300, 53, 43],\n      [196, 300, 55, 43],\n      [257, 300, 53, 43],//sniff\n      [196, 300, 55, 43],\n      [257, 300, 53, 43],//sniff\n      [196, 300, 55, 43],\n      [257, 300, 53, 43],//sniff\n      [196, 300, 55, 43],//9\n      [257, 300, 53, 43],//sniff,\n      [17, 358, 53, 48], //excited\n      [86, 359, 35, 46], //jumping\n      [147, 366, 33, 32],//landing\n      [209,362,29,39],  //14\n      [269,362,29,39],\n      [344,302,43,39],\n      [331,362,56,39] //17\n    ],\n    animations:{\n      walk:[0,3],\n      sniff:[3,10,\"walk\"],\n      happy:11,\n      jumping:12,\n      landing: 13,\n      laughing: [14,15],\n      one: 16,\n      two: 17\n    },\n    framerate:8\n  }\n  const spriteSheet = new createjs.SpriteSheet(data);\n  return new createjs.Sprite(spriteSheet,\"walk\");\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/sprites.js","export const registerSounds=()=>{\n  createjs.Sound.registerSound('audio/02-duck-hunt-intro.mp3',\"intro\");\n  createjs.Sound.registerSound('audio/99-duck-flapping-sfx-.mp3',\"wing_flap\");\n  createjs.Sound.registerSound('audio/shot.mp3',\"shot\");\n  createjs.Sound.registerSound('audio/falling.mp3',\"falling\");\n  createjs.Sound.registerSound('audio/ground_thud.mp3',\"ground_thud\");\n\n  // createjs.Sound.registerSound('audio/bark.mp3',\"bark\");\n  // createjs.Sound.registerSound('audio/game_over.mp3',\"game_over\");\n  // createjs.Sound.registerSound('audio/missed.mp3',\"missed\");\n  // createjs.Sound.registerSound('audio/quack.mp3',\"quack\");\n  // createjs.Sound.registerSound('audio/caught_one.mp3',\"caught_one\");\n  // createjs.Sound.registerSound('audio/points.mp3',\"points\");\n  // createjs.Sound.registerSound('audio/menu_sound.mp3',\"menu_sound\");\n  // createjs.Sound.registerSound('audio/bark.mp3',\"bark\");\n  // createjs.Sound.registerSound('audio/bark.mp3',\"bark\");\n}\n\nexport const sound=(...args)=>{\n  return createjs.Sound.play(...args);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/sound.js","import Duck from './duck';\nimport * as Sprites from './sprites';\nimport UI from './ui';\nimport { registerSounds, sound } from './sound';\n\nclass Board{\n  constructor(stage, title){\n      this.stage = stage;\n      this.title = title;\n      this.background_color = new createjs.Shape();\n      this.background_color.graphics.beginFill(\"#3fbfff\").drawRect(0,0,786,720);\n      this.background_color.addEventListener(\"click\",this.handleMissClick.bind(this));\n      this.stage.addChild(this.background_color)\n      this.background = this.background();\n      this.stage.addChild(this.background)\n      this.ui = new UI(this.stage);\n      this.initLeap();\n      this.cursor = this.mkCursor();\n      this.trigger = false;\n      this.activeBirds = {};\n      document.onkeydown = this.keyPressed.bind(this);\n      // createjs.Ticker.on(\"tick\", this.handleTick.bind(this));\n\n      this.dog = Sprites.dog_intro();\n      this.dog.scaleX = 2.8;\n      this.dog.scaleY = 2.8;\n      this.dog.x = 15;\n      this.dog.y=445;\n      this.stage.addChild(this.dog);\n\n      //cycle variables\n      this.bulletsLeft = 3;\n      this.numBirds = 0;\n      this.birdsLaunched = 0;\n      this.flewAway=false;\n\n      //round variables\n      this.birdsLaunched = 0;\n      this.killCount = 0;\n      this.threshhold = 5;\n      this.finishedPost=false;\n\n      //game variables\n      this.round = 1;\n      this.score = 0;\n      this.duckCount = 1;\n      // this.intro();\n  };\n\n  birdsOnScreen(){\n    return Object.keys(this.activeBirds).length;\n  }\n\n  keyPressed(e){\n    //used as alternate fire input for Leap mode.\n    // console.log(\"button\")\n    if(e.key ===\"z\"){\n      if(this.cursor.alpha === 1.0){\n        this.fire(this.cursor.x,this.cursor.y)\n      }\n    }\n  }\n\n  changeAnimation(obj,ani){\n    return(e)=>{obj.gotoAndPlay(ani)}\n  };\n\n  playSound(snd,props){\n    return(e)=>{sound(snd,props)}\n  }\n\n  intro(){\n    this.stage.removeChild(this.dog);\n    this.dog.alpha=0.0;\n    this.stage.addChild(this.dog);\n    this.dog.x = 15;\n    this.dog.y=445;\n    this.dog.gotoAndPlay(\"walk\")\n    const ppc = new createjs.PlayPropsConfig().set({loop: 2, duration: 259})\n\n    const obj = createjs.Tween.get(this.dog);\n    if(this.round === 1){\n      sound(\"intro\")\n      this.dog.alpha=1.0;\n      obj.to({x:150},2000)\n    }\n    else{\n      obj.to({x:150, alpha:1.0})\n      // this.dog.alpha=1.0;\n    }\n    obj.call(this.changeAnimation(this.dog,\"sniff\"))\n      .wait(1000)\n      .to({x:300},2000)\n      .call(this.changeAnimation(this.dog,\"sniff\"))\n      .wait(1000)\n      .call(this.changeAnimation(this.dog,\"happy\"))\n      .call(this.playSound(\"bark\",ppc))\n      .wait(500)\n      .call(this.changeAnimation(this.dog,\"jumping\"))\n      .to({x: 350, y:300},500)\n      .call(this.shiftToBehindBackground(this.dog).bind(this))\n      .call(this.changeAnimation(this.dog,\"landing\"))\n      .to({x:400, y:500},500)\n      .to({x:350,y:500})\n      .call(this.gameLoop.bind(this))\n    // .to({alpha:0})\n\n\n\n  }\n\n  initLeap(){\n    const leap = new Leap.Controller({\n      host: '127.0.0.1',\n      port: 6437,\n      frameEventName: 'animationFrame',\n      useAllPlugins: true\n    });\n    this.leap = leap;\n    leap.on('frame',(frame)=>(this.frameCallback(frame)));\n    leap.connect();\n  }\n\n  frameCallback(frame){\n    // console.log(\"frame\")\n    // debugger\n    // console.log(frame.pointables.length)\\\n    // if(frame.hands.length>0){\n    //   const hand = frame.hands[0];\n    // }\n    // if(frame.hands.length>0){\n    //   this.cursor.alpha=1;\n\n    // console.log(\"hi\")\n    if(frame.pointables.length > 0){\n      this.cursor.alpha=1;\n      const pointer = frame.pointables[0];\n      const pos = pointer.stabilizedTipPosition;\n      const norm = frame.interactionBox.normalizePoint(pos)\n      this.cursor.x = (786) * norm[0];\n      this.cursor.y = (720) * (1-norm[1]);\n    }\n    else{\n      this.cursor.alpha=0;\n    }\n\n    // return;\n    //\n    // if(frame.hands.length > 0){\n    //   this.cursor.alpha=1;\n    //   const h = frame.hands;\n    //\n    //   let leftH  = null;\n    //   let rightH = null;\n    //   for(let i = 0; i< h.length; i++){\n    //     if( h[i].type=== \"left\"){\n    //       leftH = h[i]\n    //     }\n    //     else{\n    //       rightH=h[i]\n    //     }\n    //   }\n    //\n    //   if (rightH === null) return;\n    //\n    //   const indexF = rightH.indexFinger;\n    //   const posF = indexF.stabilizedTipPosition;\n    //   const normF = frame.interactionBox.normalizePoint(posF)\n    //\n    //   // console.log(posF)\n    //   this.cursor.x = (786) * normF[0];\n    //   this.cursor.y = (720) * (1-normF[1]);\n    //\n    //   if(leftH === null) return;\n    //   // console.log(leftH.thumb)\n    //   // console.log(leftH.indexFinger)\\\n    //   // console.log(leftH.fingers.length)\n    //   // console.log(leftH.indexFinger.valid)\n    //   const palm = leftH.palmPosition;\n    //   const index = leftH.indexFinger.tipPosition;\n    //   // const dist = Leap.vec3.dist([palm[0],palm[1],0], [index[0],index[1],0]);\n    //   const dist3 = Leap.vec3.dist(palm, index);\n    //   console.log(dist3)\n    //   console.log(leftH.confidence)\n    //   // if(dist3 < 60)\n    //   if(dist3 < 60 && !this.trigger){\n    //     console.log(\"BANG\")\n    //     console.log(leftH.confidence)\n    //     const x = this.cursor.x\n    //     const y = this.cursor.y\n    //     this.fire(x,y);\n    //     this.trigger = true;\n    //   }else if(dist3 > 80 && this.trigger){\n    //     console.log(\"reloaded\");\n    //     this.trigger=false;\n    //   }\n    // }\n    // else{\n    //   this.cursor.alpha=0;\n    // }\n\n\n\n\n\n\n      //intentionally skipping rest...\n      // return;\n      //\n      // if(leftH.pointables.length < 1) return;\n      // const lIndex = leftH.indexFinger;\n      // const lThumb = leftH.thumb;\n      // if(lIndex  === undefined || lThumb === undefined) return;\n      // // console.log(lIndex.position + \" \" + lThumb.position)\n      //\n      // const lIndexPos = lIndex.tipPosition;\n      // const lThumbPos = lThumb.tipPosition;\n      //\n      //\n      // const dist = Leap.vec3.dist([lThumbPos[0],lThumbPos[1],0], [lIndexPos[0],lIndexPos[1],0]);\n      // // console.log(dist);\n      //\n      // if(dist < 15 && !this.trigger){\n      //   console.log(\"BANG\")\n      //   const x = this.cursor.x\n      //   const y = this.cursor.y\n      //   this.fire(x,y);\n      //   this.trigger = true;\n      //\n      // }\n      // else if(dist > 20 && this.trigger){\n      //   console.log(\"reloaded\");\n      //   this.trigger=false;\n      // }\n\n\n\n\n\n    //\n    // }\n    // else{\n    //   this.cursor.alpha = 0;\n    //\n    //   return\n    // // }\n    // if(frame.pointables.length > 0){\n    //   // this.tCursor.alpha=0;\n    //   this.cursor.alpha=1;\n    //   const palm = frame.hands[0]\n    //   const posH = palm.stabilizedPalmPosition;\n    //   const normP = frame.interactionBox.normalizePoint(posH);\n    //\n    //   const indexF = frame.pointables[frame.pointables.length-1];\n    //   const posF = indexF.stabilizedTipPosition;\n    //   const normalized = frame.interactionBox.normalizePoint(posF)\n    //\n    //\n    //   this.cursor.x = 786 * normalized[0]\n    //   this.cursor.y = 720 * (1-normalized[1])\n      // this.cursor.x = 786 * normP[0]\n      // this.cursor.y = 720 * (1-normP[1])\n      // if(frame.gestures.length > 0){\n      //   console.log(\"gesture detected\")\n      // }\n      // let thumb = null;\n      // console.log(frame.hands.position)\n      // if(frame.hands.length > 0){\n      //   // console.log(frame.hands[0].palmPosition)\n      // }\n      // else{\n      //   return\n      // }\n      // console.log(frame.pointables.length)\n      // if(frame.pointables.length > 1){\n      //   // this.tCursor.alpha=1;\n      //   const thumb = frame.pointables[0]\n      //   const posT = thumb.stabilizedTipPosition;\n      //   const normT = frame.interactionBox.normalizePoint(posT)\n      //   // console.log(posT)\n      //   const dist = Leap.vec3.dist([posT[0],posT[1],0], [posF[0],posF[1],0]);\n      //   // const dist = Leap.vec3.dist(posT,posF);\n      //   // console.log(dist)\n      //   if( dist < 10 && !this.trigger){\n      //     this.trigger = true;\n      //     const x = this.cursor.x\n      //     const y = this.cursor.y\n      //     this.fire(x,y);\n      //   }else if(dist > 15){\n      //     this.trigger = false;\n      //   }\n\n        // this.tCursor.x = 786*normT[0];\n        // this.tCursor.y = 720 * (1-normT[1]);\n    //   }\n    //\n    //   // this.cursor.x = 786 * normalized[0]\n    //   // this.cursor.y = 720 * (1-normalized[1])\n    // }\n    // else{\n    //   this.cursor.alpha = 0;\n    //   // this.tCursor.alpha = 0;\n    // }\n    // frame.pointables.forEach(function(pointable) {\n    //   var position = pointable.stabilizedTipPosition;\n    //   var normalized = frame.interactionBox.normalizePoint(position);\n    //\n    //   var x = ctx.canvas.width * normalized[0];\n    //   var y = ctx.canvas.height * (1 - normalized[1]);\n    //\n    //   // ctx.beginPath();\n    //   // ctx.rect(x, y, 20, 20);\n    //   // ctx.fill();\n    // });\n  }\n\n  fire(x,y){\n    console.log(\"BANG\")\n    const objs = this.stage.getObjectsUnderPoint(x,y,2)\n    console.log(objs);\n    if(objs.length>0 && objs[0].dh_type !== undefined){\n      for(let i = 0 ; i < objs.length ; i++){\n        if (objs[i].dh_type === true){\n          this.handleDuckShot(objs[i])\n          return;\n        }\n      }\n      // console.log(d)\n\n    }\n    this.handleMissClick();\n  }\n\n  handleDuckShot(duck){\n    console.log(duck.id)\n    console.log(this)\n    // debugger\n    // console.log(activeBirds)\n\n    this.activeBirds[duck.dh_id].handleClick(null);\n    // createjs.Tween.removeTweens(duck)\n    // duck.gotoAndPlay(\"hit\")\n    // createjs.Tween.get(duck).wait(500).to({y:1600},1000)\n  }\n\n  redBackground(){\n    this.background_color.graphics.clear;\n    this.background_color.graphics.beginFill(\"#ffbfb3\").drawRect(0,0,786,720);\n  }\n\n  blueBackground(){\n    this.background_color.graphics.clear;\n    this.background_color.graphics.beginFill(\"#3fbfff\").drawRect(0,0,786,720);\n  }\n\n  background(){\n    let data = {\n      images: [\"./sprites/duckhunt.png\"],\n      frames: [\n        [0, 0, 256, 240] //240\n        // [0, 0, 256, 190] //240\n      ]\n    }\n\n    const spriteSheet = new createjs.SpriteSheet(data);\n    const sprite = new createjs.Sprite(spriteSheet);\n    sprite.dh_type= \"background\"\n    sprite.scaleX=3.0;\n    sprite.scaleY=3.0;\n    // sprite.mouseEnabled = false;\n    sprite.addEventListener(\"click\",this.handleMissClick.bind(this));\n    return sprite;\n  }\n\n  handleMissClick(e){\n    console.log(\"miss\");\n    if(this.bulletsLeft === 0){\n      return;\n    }\n    sound(\"shot\");\n    this.ui.firedShot();\n    this.bulletsLeft--;\n    this.gameLoop();\n  }\n\n  mkCursor(){\n    let box = new createjs.Shape();\n    box.graphics.beginFill(\"#000\").drawRect(0, 0, 10, 10);\n    box.mouseEnabled=false;\n    box.alpha=0;\n    this.stage.addChild(box);\n    return box;\n  }\n  //\n  // birdGone(id){\n  //\n  //   return ()=>{\n  //     console.log(\"bird: \" + id + (this.activeBirds[id].alive ? \" is alive\" : \" is dead\"))\n  //     if(this.activeBirds[id].alive)\n  //     {\n  //       this.flewAway = true;\n  //       this.ui.regMiss();\n  //       this.numBirds--;\n  //     }\n  //     else{\n  //       this.numBirds--;\n  //       this.killCount++;\n  //       this.ui.regHit();\n  //     }\n  //     // this.ui.resetCycle()\n  //     // this.ui.firedShot();\n  //     this.stage.removeChild(this.activeBirds[id].duck)\n  //     delete this.activeBirds[id]\n  //     if(Object.keys(this.activeBirds).length === 0){\n  //       this.allBirdsGone();\n  //     }\n  //   }\n  //\n  // }\n  //\n  // allBirdsGone(){\n  //   console.log(\"all birds are gone :(\")\n  //   // this.ui.resetCycle();\n  //   // this.drawDucks();\n  //   this.gameLoop();\n  // }\n\n  startCycle(){\n    this.bulletsLeft=3;\n    const n = this.duckCount;\n    this.numBirds=1;\n    this.blueBackground();\n    this.drawDucks(n)\n    this.ui.resetCycle();\n    this.ui.launchDucks(n)\n  }\n\n  playEndingMusic(){\n    // first check the score and treshho\n    if(this.killCount >= this.threshhold){\n      //you win!\n      if(this.killCount === 10){\n        //perfect score!\n        const soundHandle = createjs.Sound.play(\"perfect\")\n        soundHandle.on(\"complete\", this.gameLoop.bind(this));\n      }else{\n        const soundHandle = createjs.Sound.play(\"round-clear\")\n        soundHandle.on(\"complete\", this.gameLoop.bind(this));\n      }\n    }else{\n      const soundHandle = createjs.Sound.play(\"you-failed\")\n      soundHandle.on(\"complete\", this.gameLoop.bind(this));\n    }\n  }\n\n  gameLoop(){\n\n    //birdslaunched == how many birds have been sent, at most 10\n    //activeBirds == number of birds in the air,\n    //bulletLeft\n    console.log(this.bulletsLeft)\n    //all birds launched, and none on screen\n    if(this.birdsLaunched === 10 && this.birdsOnScreen() ===0){\n      //round end, test kill count\n      console.log(\"round end!\")\n      if(!this.finishedPost){\n        this.finishedPost=true;\n        this.ui.shiftDucks(this.playEndingMusic.bind(this));\n        return;\n      }\n      if(this.killCount >=  this.threshhold){\n\n        //yay you won. play correct sound\n\n        //restart loop and counters\n        this.birdsLaunched  = 0;\n        this.killCount = 0\n        this.threshhold = 5 //TODO should increment as needed!\n        this.ui.resetRound();\n        this.blueBackground();\n        this.round++;\n        this.finishedPost=false;\n        this.intro();\n        // this.drawDucks(this.duckCount) //TODO intelegently send 1 or 2 ducks\n      }\n      else{\n        console.log(\"game over :(\")\n        this.title();\n        //TODO do other game over stuff, a modal?\n      }\n    }\n    else{\n      console.log(\"inside else\")\n      //round is still ongoing.  test the cycle\n      if(this.birdsOnScreen() !== 0 && this.bulletsLeft === 0){\n        console.log(\"missed all shots\")\n        this.redBackground();\n        this.ui.showFlewAway();\n        //still a bird in the air, let it be.\n        //I guess do nothing?\n        Object.keys(this.activeBirds).forEach((bird_key)=>{\n\n          this.activeBirds[bird_key].flyaway();\n        })\n      }\n      else if(this.birdsOnScreen() !== 0){\n        //do nothing\n      }\n      // else if(this.bulletsLeft === 0){\n      //   console.log(\"ran out of bullets\")\n      //\n      //   // this.drawDucks();\n      //   //last bird has left.\n      //   Object.keys(this.activeBirds).forEach((bird)=>{\n      //     bird.flyaway();\n      //   })\n      // }\n      else{\n          console.log(\"inside else\")\n          this.startCycle();\n          // this.ui.launchDucks(1)\n          // this.drawDucks(1);\n      }\n    }\n    // if(this.birdsLaunched === 10){\n    //   console.log(\"round over\")\n    //   this.ui.resetRound()\n    //   this.round++;\n    //   this.birdsLaunched=0;\n    //   this.bulletsLeft=3;\n    //   //eventually do game win/loss checking\n    // }\n    // else{\n    //   // if(this.bulletsLeft == 0)\n    //   this.ui.resetCycle();\n    // }\n    // this.drawDucks();\n\n\n  }\n\n  happyDog(){\n    this.dog.gotoAndPlay(\"one\");\n    const obj = createjs.Tween.get(this.dog);\n    obj.call(this.playSound(\"got_one\")).\n        to({y:375},500)\n        .wait(500)\n        .to({y:600},1000)\n        .call(this.gameLoop.bind(this))\n  }\n\n  birdDied(id){\n    return (e)=>{\n      console.log(\"bird died\")\n      // this.numBirds--;\n      this.killCount++;\n      this.bulletsLeft--;\n      this.ui.firedShot();\n      // sound(\"falling\");\n      // this.ui.regHit();\n      // this.happyDog();\n      this.ui.regHit();\n    }\n  }\n\n  laughingDog(){\n    this.dog.gotoAndPlay(\"laughing\");\n    const ppc = new createjs.PlayPropsConfig().set({delay:500});\n    const obj = createjs.Tween.get(this.dog);\n    obj.wait(2000).call(this.playSound(\"laugh\",ppc).bind(this))\n      .to({y:375},1000)\n      .wait(1000)\n      .to({y:600},1000)\n      .call(this.gameLoop.bind(this))\n  }\n\n  birdLived(id){\n    return (e)=>{\n      console.log(\"bird lived\")\n      this.flewAway = true;\n      this.ui.regMiss();\n      this.redBackground();\n      this.ui.showFlewAway();\n      this.laughingDog();\n      // this.ui.flewAway();\n      // this.numBirds--;\n    }\n  }\n\n  removeBird(id){\n    return (e)=>{\n      console.log(\"removing bird\")\n\n      this.numBirds--;\n      this.stage.removeChild(this.activeBirds[id].duck)\n      if(this.activeBirds[id].alive){\n        // this.laughingDog();\n      }else{\n        this.happyDog();\n      }\n      delete this.activeBirds[id]\n      // this.gameLoop();\n    }\n  }\n\n  shiftBackgroundToFront(){\n    this.stage.setChildIndex(this.background,this.stage.numChildren-1)\n  }\n\n  shiftToBehindBackground(obj){\n    return(e)=>{\n\n      this.stage.setChildIndex(obj, this.stage.getChildIndex(this.background));\n    }\n  }\n\n  drawDucks(n=1){\n    this.birdsLaunched += n;\n    for(let i =0;i< n;i++){\n      const duck = new Duck(i,this.birdDied(i).bind(this), this.birdLived(i).bind(this), this.removeBird(i).bind(this), this.round)\n      this.activeBirds[i]=duck;\n      this.stage.addChild(duck.duck)\n      this.shiftToBehindBackground(duck.duck)();\n    }\n    Object.keys(this.activeBirds).forEach(key=>{\n      this.activeBirds[key].moveDuck();\n    })\n    // duck.moveDuck();\n  }\n\n  // handleTick(event) {\n  //     this.stage.update(event);\n  // }\n\n\n}\n\nexport default Board;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/board.js","import * as Sprites from './sprites';\n\nclass Title{\n  constructor(stage){\n    this.stage = stage;\n    this.start;\n    this.aboutMeCont = this.aboutMeContainer();\n    this.title = this.titleImage();\n  }\n\n  beep(){\n    createjs.Sound.play(\"menu-beep\");\n  }\n\n  showTitle(start){\n    console.log(\"showing\")\n    this.start = start;\n    this.stage.addChild(this.title);\n    this.startButton();\n    this.aboutButton();\n    this.gunButton();\n  }\n\n  gunButton(){\n    const obj = new createjs.Shape();\n    obj.graphics.beginFill(\"#fff\").drawRect(0,0,550,60);\n    const hit = new createjs.Shape();\n    hit.graphics.beginFill(\"#fff\").drawRect(0,0,550,60);\n    obj.x = 110;\n    obj.y = 545;\n    obj.alpha = 0.0;\n    obj.hitArea=hit;\n    obj.on(\"click\",this.lightGun.bind(this));\n    this.stage.addChild(obj);\n  }\n\n  lightGun(){\n    console.log(\"light gun\");\n    window.location = \"https://github.com/a-chaudhari/waterfowl_hunt/blob/master/docs/lightgun.md\";\n    this.beep();\n  }\n\n  hideTitle(){\n    this.stage.removeChild(this.title)\n  }\n\n  titleImage(){\n    const obj = Sprites.titleScreen();\n    obj.x = 0;\n    obj.y = 0;\n    obj.scaleX = 3.0;\n    obj.scaleY = 3.0;\n    return obj;\n    // obj.graphics.g\n  }\n\n  startButton(){\n    const obj = new createjs.Shape();\n    obj.graphics.beginFill(\"#fff\").drawRect(0,0,350,50);\n    const hit = new createjs.Shape();\n    hit.graphics.beginFill(\"#fff\").drawRect(0,0,350,50);\n    obj.x = 200;\n    obj.y = 400;\n    obj.alpha = 0.0;\n    obj.hitArea = hit;\n    obj.on(\"click\",this.startGame.bind(this))\n    this.stage.addChild(obj);\n  }\n\n  startGame(){\n    console.log(\"starting\");\n    this.beep();\n    this.start();\n  }\n\n  aboutButton(){\n    const obj = new createjs.Shape();\n    obj.graphics.beginFill(\"#fff\").drawRect(0,0,350,50);\n    const hit = new createjs.Shape();\n    hit.graphics.beginFill(\"#fff\").drawRect(0,0,350,50);\n    obj.x = 200;\n    obj.y = 470;\n    obj.alpha = 0.0;\n    obj.hitArea = hit;\n    obj.on(\"click\",this.aboutMe.bind(this))\n    this.stage.addChild(obj);\n  }\n\n  aboutMeContainer(){\n    const cont = new createjs.Container();\n\n    const background = new Sprites.aboutMe();\n    cont.addChild(background);\n    // cont.a\n    cont.x = 0;\n    cont.y = 0;\n\n    const back_button  = new createjs.Shape();\n    back_button.graphics.beginFill(\"#fff\").drawRect(0,0,125,60);\n    const hit  = new createjs.Shape();\n    hit.graphics.beginFill(\"#fff\").drawRect(0,0,125,60);\n    back_button.x = 30;\n    back_button.y =600;\n    back_button.alpha =0.0;\n    back_button.hitArea=hit;\n    back_button.on(\"click\",this.backButton.bind(this))\n    cont.addChild(back_button)\n\n    const github_button  = new createjs.Shape();\n    github_button.graphics.beginFill(\"#fff\").drawRect(0,0,125,45);\n    const gh_hit  = new createjs.Shape();\n    gh_hit.graphics.beginFill(\"#fff\").drawRect(0,0,125,45);\n    github_button.x =485;\n    github_button.y =355;\n    github_button.alpha =0.0;\n    github_button.hitArea=gh_hit;\n    github_button.on(\"click\",this.github_link.bind(this))\n    cont.addChild(github_button)\n\n    const website_button  = new createjs.Shape();\n    website_button.graphics.beginFill(\"#fff\").drawRect(0,0,350,45);\n    const w_hit  = new createjs.Shape();\n    w_hit.graphics.beginFill(\"#fff\").drawRect(0,0,350,45);\n    website_button.x =350;\n    website_button.y =425;\n    website_button.alpha =0.0;\n    website_button.hitArea=w_hit;\n    website_button.on(\"click\",this.website_link.bind(this))\n    cont.addChild(website_button)\n\n    return cont;\n  }\n\n  github_link(){\n    console.log(\"gh link\")\n    this.beep();\n    window.location = \"https://github.com/a-chaudhari/waterfowl_hunt\";\n\n  }\n\n  website_link(){\n    console.log(\"website\")\n    this.beep();\n    window.location = \"http://www.amitchaudhari.com\";\n  }\n\n  backButton(){\n    this.beep();\n    this.stage.removeChild(this.aboutMeCont);\n  }\n\n  aboutMe(){\n    console.log(\"about me\")\n    this.stage.addChild(this.aboutMeCont);\n    this.beep();\n\n\n  }\n\n\n}\nexport default Title;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/title.js","import * as Sprites from './sprites';\nimport {sound} from './sound';\n\nclass Duck{\n  constructor(id,birdDied,birdLived,removeBird,round){\n    this.duck = Sprites.black_duck();\n    this.duck.scaleX = 2.0;\n    this.duck.scaleY = 2.0;\n    this.duck.alpha = 0;\n    this.duck.dh_id = id;\n    this.duck.dh_type = true;\n    this.alive = true;\n    this.birdLived = birdLived;\n    this.birdDied = birdDied;\n    this.removeBird = removeBird;\n    this.handleClick = this.handleClick.bind(this)\n    this.dh_type = \"duck\";\n    this.clicked=false;\n    this.round = round;\n\n    this.flapping_sound;\n    this.lastSound = null;\n    // debugger\n    let hit = new createjs.Shape();\n\t\thit.graphics.beginFill(\"#000\").drawRect(0, 0, 30, 30);\n\t\tthis.duck.hitArea = hit;\n\n    this.duck.addEventListener(\"click\", this.handleClick)\n    // this.duck.addEventListener(\"animationend\", (event)=>(console.log(\"ended\")))\n    // this.moveDuck();\n  }\n\n  playSound(snd,stop=false){\n    return (e)=>{\n      if(stop) this.lastSound.stop();\n       this.lastSound=sound(snd)};\n  }\n\n  handleClick(e){\n    console.log(\"clicked\");\n    // createjs.Sound.play(\"shot\");\n    sound(\"shot\");\n    if(e !== null) e.stopPropagation();\n    if(this.clicked){\n      return;\n    }\n    this.clicked=true;\n    console.log(\"past clicked\")\n\n    createjs.Tween.removeTweens(this.duck)\n    this.duck.removeEventListener(\"click\",this.handleClick)\n    this.duck.gotoAndPlay(\"hit\")\n    this.alive=false;\n    createjs.Tween.get(this.duck)\n      .call(this.birdDied)\n      .call(this.stopSound(this.flapping_sound))\n      .wait(500)\n      .call(this.playSound(\"falling\"))\n      .to({y:480},1000)\n      .call(this.playSound('ground_thud',true))\n      .wait(1000)\n      .call(this.removeBird)\n    // this.duck.removeAllTweens();\n  }\n\n\n\n  rand(min, max) {\n    return Math.floor(Math.random() * (max - min) + min);\n  }\n\n  randMovement(){\n    return()=>{\n\n      const x = this.duck.x;\n      const y = this.duck.y;\n      console.log(\"x: \" + x + \" y: \" + y);\n      return {x: (this.rand(100,200)+x), y: (this.rand(100,200)+y)}\n\n    }\n  }\n\n  flyaway(){\n    createjs.Tween.removeTweens(this.duck)\n    this.duck.removeEventListener(\"click\",this.handleClick)\n    // this.duck.gotoAndPlay(\"hit\")\n    // this.alive=true;\n    createjs.Tween.get(this.duck)\n          .call(this.birdLived)\n          .call(this.changeAnimation(\"up\"))\n          .call(this.stopSound(this.flapping_sound))\n          .to({y:-100},1000)\n          .wait(1000)\n          .call(this.removeBird)\n  }\n\n  stopSound(snd){\n    return(e)=>{snd.stop()}\n  }\n\n  getDiffCoeff(){\n    switch(this.round){\n      case 1:\n        return 0.15;\n      case 2:\n        return 0.2;\n      default:\n        return (this.round/100*2 + 0.18)\n    }\n  }\n\n  genRandomPath(range){\n    const MAX_WIDTH = 730;\n    const MAX_HEIGHT = 400;\n    let xrow = [];\n    let yrow=[];\n    // let abs_coords = [{params:{alpha:1.0, x:this.rand(0,MAX_WIDTH),y:this.rand(0,MAX_HEIGHT)}}];\n    let abs_coords = [{params:{alpha:1.0, x:this.rand(0,MAX_WIDTH),y:450}}];\n\n    //generate relative coord pairs\n    for(let i = 0;i< 10;i++){\n      const last_x = abs_coords[0].params.x\n      const last_y = abs_coords[0].params.y\n      let x = 0;\n      let y = 0;\n\n      //make sure the point falls on the board.\n      while(true){\n        let done = true;\n        x =Math.floor(((Math.random() * (range * 2)) - range));\n        y =Math.floor(((Math.random() * (range * 2)) - range));\n\n        if((x+last_x) > MAX_WIDTH || (x+last_x) < 0)\n          done = false;\n        else if ((y+last_y) > MAX_HEIGHT || (y+last_y) < 0) {\n          done = false\n        }\n        if(done) break;\n      }\n\n      //we now have a relative pair that is sure to be on the grid.\n      //{params:{x: 123, y:456, alpha: 1.0}, speed: 789, reverse:false,  animation:\"fly_up\"}\n\n      const dist = Math.floor(Math.sqrt(Math.pow(y,2)+Math.pow(x,2)));\n      //need to now find the angle of movement...\n      console.log(dist);\n      //dist/time = speed\n      //dist/speed = time\n      //lets say fixed speed of 100...\n      const angleDeg = Math.atan2(Math.abs(y),Math.abs(x)) * (180 / Math.PI);\n      // Math.atan2()\n      // const a =\n      // const dist = Math.sqrt(())\n      // console.log(angleDeg)\n      let animation = \"fly_up\"\n      if(angleDeg < 40) animation=\"fly_side\";\n\n      abs_coords.unshift({ params: {alpha: 1.0, x:(last_x + x), y: (last_y + y)}, speed: (dist/this.getDiffCoeff()), reverse:(x<0), reverseY:(y<0), animation: animation });\n      // abs_coords.unshift({alpha: 1, x: (last_x + x), y: (last_y + y)})\n    }\n    abs_coords.reverse()\n    console.log(abs_coords);\n    return abs_coords;\n\n  }\n\n  changeAnimation(ani){\n    return()=>(this.duck.gotoAndPlay(ani))\n  }\n\n  moveDuck(){\n    const obj = createjs.Tween.get(this.duck, { loop: false })\n    const dirs = this.genRandomPath(250);\n    const ppc = new createjs.PlayPropsConfig().set({loop: -1, startTime: 25, duration:178,volume: 0.5 })\n    this.flapping_sound = sound(\"wing_flap\",ppc)\n\n\n    for(let i  = 0; i< 10;i++){\n      const dir = dirs[i];\n      let duration = 1000;\n      if (i === 0){\n        duration = 0;\n      }\n      obj.call(this.changeAnimation(dir.animation))\n          .to({scaleX:(dir.reverse ? -2.0 : 2.0)},0)\n          .to(dir.params,dir.speed);\n    }\n\n    obj.call(this.birdLived)\n      .call(this.changeAnimation(\"up\"))\n      .call(this.stopSound(this.flapping_sound))\n      .to({y:-100},1000)\n      .wait(1000)\n      .call(this.removeBird)\n  }\n\n}\n\nexport default Duck;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/duck.js","import * as Sprites from './sprites';\n\nclass UI {\n  constructor(stage){\n    this.stage = stage;\n\n    this.shot_text = Sprites.bullet_ui();\n    this.shot_text.scaleX=3.0;\n    this.shot_text.scaleY=3.0;\n    this.shot_text.x = 72;\n    this.shot_text.y = 649;\n\n    this.hits = 0;\n    this.misses = 0;\n    this.shotsLeft = 3;\n    this.round = 1;\n    // this.duckStatus = ['M','M','M','M','M','M','M','M','M','M'];\n    // this.duckStatus = ['M','M','M','M','M','M','M','M','M','M'];\n    this.duckStatus = [];\n    let duck_x_pos=295;\n    for(let i = 0;i<10;i++){\n      const sprite = Sprites.duck_ui();\n      sprite.x = duck_x_pos;\n      duck_x_pos+= 23;\n      sprite.y = 625;\n      sprite.scaleY=2.8;\n      sprite.scaleX=2.8;\n      this.stage.addChild(sprite);\n      this.duckStatus.push(sprite);\n    }\n    this.duckIndex=0;\n    this.duckCount=1;\n\n    this.bulletStatus = [];\n    let bullet_x_pos = 80;\n    for(let i = 0;i<3;i++){\n      const sprite = Sprites.bullet();\n      sprite.x = bullet_x_pos;\n      bullet_x_pos+=20;\n      sprite.y=625;\n      sprite.scaleX = 2.8;\n      sprite.scaleY = 2.8;\n      this.stage.addChild(sprite);\n      this.bulletStatus.push(sprite);\n    }\n\n    this.hit_text = Sprites.hit_ui();\n    this.hit_text.x = 195;\n    this.hit_text.y = 625;\n    this.hit_text.scaleX = 2.8;\n    this.hit_text.scaleY = 2.8;\n\n    this.flew_away_text = Sprites.flew_away_ui();\n    this.flew_away_text.x = 275;\n    this.flew_away_text.y = 225;\n    this.flew_away_text.scaleX = 3.0;\n    this.flew_away_text.scaleY = 3.0;\n    this.flew_away_text.alpha=0;\n\n\n    this.roundCount = new createjs.Text(`R = ${this.round.toString()}`, \"20px Arial\", \"#ffffff\");\n    this.roundCount.x = 80;\n    this.roundCount.y = 595;\n    this.roundCount.textBaseline=\"alphabetic\";\n\n    // this.shotCount=new createjs.Text(this.shotsLeft.toString(), \"20px Arial\", \"#ffffff\");\n    // this.shotCount.x = 100;\n    // this.shotCount.y = 650;\n    // this.shotCount.textBaseline = \"alphabetic\";\n\n    // this.hitCount = new createjs.Text(this.hits.toString(), \"20px Arial\", \"#ffffff\")\n    // this.hitCount.x=200;\n    // this.hitCount.y=600;\n    // this.hitCount.textBaseline=\"alphabetic\";\n    //\n    // this.missCount = new createjs.Text(this.misses.toString(),\"20px Arial\", \"#ffffff\")\n    // this.missCount.x=400;\n    // this.missCount.y = 600;\n    // this.missCount.textBaseline=\"alphabetic\";\n    // this.dog = Sprites.dog();\n    // this.dog.scaleX = 3.0;\n    // this.dog.scaleY = 3.0;\n    // this.dog.x = 300;\n    // this.dog.y=300;\n    // this.stage.addChild(this.dog);\n\n    this.stage.addChild(this.shot_text)\n    this.stage.addChild(this.flew_away_text);\n    this.stage.addChild(this.hit_text);\n    this.stage.addChild(this.roundCount);\n    // this.stage.addChild(this.shotCount);\n    // this.stage.addChild(this.hitCount);\n    // this.stage.addChild(this.missCount);\n\n  }\n\n  redraw(){\n    // debugger\n    // this.hitCount.text = this.hits.toString();\n    // this.missCount.text = this.misses.toString();\n    // this.shotCount.text = (this.shotsLeft < 0 ? \"0\" : this.shotsLeft.toString())\n    this.roundCount.text = `R = ${this.round.toString()}`;\n    this.setBullets();\n  }\n\n  drawHitBox(){\n    // this.duckStatus\n    let x_pos;\n    for(let i = 0; i< this.duckStatus.length; i++){\n      const status = this.duckStatus[i];\n    }\n  }\n\n  resetDuckStatus(){\n    this.duckIndex=0;\n    this.duckStatus.forEach((status)=>(\n      status.gotoAndPlay(\"white\")\n    ))\n  }\n\n  launchDucks(n=1){\n    this.duckCount == n;\n    for(let i = 0;i< n;i++){\n        this.duckStatus[this.duckIndex+i].gotoAndPlay(\"alt\")\n    }\n  }\n\n  areDucksAligned(){\n    console.log(\"in are aligned?\")\n    let foundWhite=false\n    for(let i = 0;i< 10;i++){\n      const duck = this.duckStatus[i]\n      if(duck.currentAnimation === \"red\" && foundWhite){\n        console.log(\"in aligned false\")\n        return false;\n      }\n      else if(duck.currentAnimation === \"white\"){\n        foundWhite = true;\n      }\n    }\n    console.log(\"returning aligned true\")\n    return true;\n  }\n  shiftDucks(callback){\n    // this.shiftDuckCallback =\n    console.log(\"in lobby shift ducks\")\n    // let soundHandle;\n\n\n\n    const loopingFunct = () =>{\n      console.log(\"in looping funct\");\n      console.log(this)\n      if(this.shiftDucksOnce()){\n        const ppc = new createjs.PlayPropsConfig().set({duration:300})\n        const soundHandle = createjs.Sound.play(\"hit_count\",ppc)\n        soundHandle.on(\"complete\", loopingFunct);\n      }\n      else{\n        // return;\n        this.flashDucks(callback);\n      }\n\n    }\n    loopingFunct();\n    // if(this.shiftDucksOnce()){\n    //   const ppc = new createjs.PlayPropsConfig().set({duration:300})\n    //   const soundHandle = createjs.Sound.play(\"hit_count\",ppc)\n    //   soundHandle.on(\"complete\", this.shiftDucks.bind(this));\n    // }\n    // else{\n    //   // return;\n    //   this.flashDucks(callback);\n    // }\n  }\n\n  flashDucks(callback){\n    this.duckStatus.forEach(status=>{\n      if(status.currentAnimation === \"red\"){\n        status.gotoAndPlay(\"flash\")\n      }\n    })\n    callback();\n    // status =>(\n    //   if(status.currentAnimation === \"red\"){\n    //     status.gotoAndPlay(\"flash\")\n    //   }\n    // )\n\n    // const ppc = new PlayPropsConfig().set({})\n    // const soundHandle = createjs.Sound.play(\"hit_count\",ppc)\n    // soundHandle.on(\"complete\", this.shiftDucks.bind(this));\n  }\n\n  shiftDucksOnce(){\n    console.log(\"in shift ducks\")\n    console.log(this.duckStatus)\n    for(let i = 9 ; i>=0;i--){\n      const duck = this.duckStatus[i];\n      if(duck.currentAnimation === \"white\"){\n        console.log(\"breaking because white \" + i)\n        continue;\n      }else if(duck.currentAnimation === \"red\"){\n        console.log(\"found a misplaced duck\")\n        for(let j = (i-1); j>=0;j--){\n          const duckTwo = this.duckStatus[j]\n          if(duckTwo.currentAnimation === \"white\"){\n            //lets swap these two!\n            duckTwo.gotoAndPlay(\"red\");\n            duck.gotoAndPlay(\"white\");\n            return true;\n          }\n        }\n      }else{\n        console.log(\"in else?\");\n        console.log(duck.currentAnimation)\n      }\n    }\n    return false;\n  }\n\n  setBullets(){\n    this.bulletStatus.forEach((bullet,idx)=>{\n      if(this.shotsLeft > idx){\n        bullet.gotoAndPlay(\"black\")\n      }\n      else{\n        bullet.gotoAndPlay(\"empty\")\n      }\n    });\n  }\n\n  resetRound(){\n    this.misses=0;\n    this.hits=0;\n    this.flew_away_text.alpha = 0.0;\n    this.shotsLeft=3;\n    this.round++;\n    this.resetDuckStatus();\n    this.redraw();\n  }\n\n  resetCycle(){\n    this.flew_away_text.alpha = 0.0;\n    this.shotsLeft=3;\n    this.duckStatus[this.duckIndex].gotoAndPlay(\"alt\");\n    this.redraw();\n  }\n\n  showFlewAway(){\n    this.flew_away_text.alpha = 1;\n    // this.background_color\n  }\n\n  firedShot(){\n    this.shotsLeft--;\n    this.redraw();\n  }\n\n  regMiss(second=false){\n    this.misses++;\n    // this.shotsLeft--;\n    let targetDuck = this.duckStatus[this.duckIndex]\n    //used for double-duck cycles,  if the first duck is already flagged as dead, try the next one\n    if(targetDuck.currentAnimation !==  \"alt\"){\n      console.log(\"2nd miss\")\n      targetDuck = this.duckStatus[this.duckIndex + 1];\n    }\n    targetDuck.gotoAndPlay(\"white\");\n    this.duckIndex++;\n    this.redraw();\n  }\n\n  regHit(second=false){\n    this.hits++;\n    // this.shotsLeft--;\n    // this.duckStatus[this.duckIndex].gotoAndPlay(\"red\");\n    let targetDuck = this.duckStatus[this.duckIndex]\n    //used for double-duck cycles,  if the first duck is already flagged as dead, try the next one\n    if(targetDuck.currentAnimation !==  \"alt\"){\n      console.log(\"2nd miss\")\n\n      targetDuck = this.duckStatus[this.duckIndex + 1];\n    }\n    targetDuck.gotoAndPlay(\"red\");\n    this.duckIndex++;\n    this.redraw();\n  }\n\n}\n\nexport default UI;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/ui.js","import Board from './board';\nimport Title from './title';\n// import {registerSounds} from './sound';\n\ndocument.addEventListener('DOMContentLoaded', ()=>{\n  // registerSounds();\n  const canvas = document.getElementById('demoCanvas');\n  const stage = new createjs.Stage(\"demoCanvas\");\n  let board;\n  const title = new Title(stage)\n  let titleMusic;\n\n  const handleTick = (event) => {\n      stage.update(event);\n  }\n  createjs.Ticker.on(\"tick\", handleTick.bind(this));\n\n  const preload = new createjs.LoadQueue();\n  preload.addEventListener(\"complete\", loadComplete);\n  preload.installPlugin(createjs.Sound);\n  preload.loadManifest([\n    {id:\"intro\", src:\"audio/02-duck-hunt-intro.mp3\"},\n    {id:\"shot\", src:\"audio/shot.mp3\"},\n    {id:\"wing_flap\", src:\"audio/99-duck-flapping-sfx-.mp3\"},\n    {id:\"falling\", src:\"audio/falling.mp3\"},\n    {id:\"bark\", src:\"audio/99-bark-sfx-.mp3\"},\n    {id:\"ground_thud\", src:\"audio/ground_thud.mp3\"},\n    {id:\"laugh\", src:\"audio/99-laugh-sfx-.mp3\"},\n    {id:\"got_one\", src:\"audio/04-got-duck-s-.mp3\"},\n    {id:\"hit_count\", src:\"audio/99-counting-hits-sfx-.mp3\"},\n    {id:\"round-clear\",src:\"audio/05-round-clear.mp3\"},\n    {id:\"perfect\",src:\"audio/06-perfect.mp3\"},\n    {id:\"you-failed\",src:\"audio/07-you-failed.mp3\"},\n    {id:\"game-over\",src:\"audio/08-game-over.mp3\"},\n    {id:\"menu-beep\",src:\"audio/menu_sound.mp3\"},\n    {id:\"title_music\",src:\"audio/01-title-screen.mp3\"}\n\n    // {id:\"dh_sprites\", src:\"/sprites/duckhunt.png\", type:\"spritesheet\"}\n  ])\n  // window.preload = preload;\n  // preload.loadFile(\"assets/preloadjs-bg-center.png\");\n\n  const titleScreen = () =>{\n    stage.removeAllChildren();\n    titleMusic = createjs.Sound.play(\"title_music\")\n    title.showTitle(start.bind(this))\n  }\n  const start = () =>{\n    title.hideTitle();\n    titleMusic.stop();\n    board= new Board(stage, titleScreen.bind(this));\n    board.intro();\n  }\n  function loadComplete(){\n    // board.gameLoop();\n    // console.log\n    // title.titleScreen(start.bind(this));\n    titleScreen();\n    // board.intro();\n  }\n  // cursor.x = 300;\n  // board.drawDucks();\n  // board.gameLoop();\n})\n\n\n\n// WEBPACK FOOTER //\n// ./lib/entry.js"],"sourceRoot":""}